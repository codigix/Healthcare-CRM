{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport api from '../services/api';\n\n// Async thunks for user operations\nexport const fetchUsers = createAsyncThunk('users/fetchUsers', async () => {\n  const response = await api.get('/users');\n  return response.data;\n});\nexport const fetchUser = createAsyncThunk('users/fetchUser', async id => {\n  const response = await api.get(`/users/${id}`);\n  return response.data;\n});\nexport const createUser = createAsyncThunk('users/createUser', async userData => {\n  const response = await api.post('/users', userData);\n  return response.data;\n});\nexport const updateUser = createAsyncThunk('users/updateUser', async ({\n  id,\n  data\n}) => {\n  const response = await api.put(`/users/${id}`, data);\n  return response.data;\n});\nexport const deleteUser = createAsyncThunk('users/deleteUser', async id => {\n  await api.delete(`/users/${id}`);\n  return id;\n});\nconst usersSlice = createSlice({\n  name: 'users',\n  initialState: {\n    users: [],\n    currentUser: null,\n    loading: false,\n    error: null\n  },\n  reducers: {\n    clearCurrentUser: state => {\n      state.currentUser = null;\n    }\n  },\n  extraReducers: builder => {\n    builder\n    // Fetch users\n    .addCase(fetchUsers.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(fetchUsers.fulfilled, (state, action) => {\n      state.loading = false;\n      state.users = action.payload;\n    }).addCase(fetchUsers.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.error.message;\n    })\n\n    // Fetch single user\n    .addCase(fetchUser.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(fetchUser.fulfilled, (state, action) => {\n      state.loading = false;\n      state.currentUser = action.payload;\n    }).addCase(fetchUser.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.error.message;\n    })\n\n    // Create user\n    .addCase(createUser.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(createUser.fulfilled, (state, action) => {\n      state.loading = false;\n      state.users.push(action.payload);\n    }).addCase(createUser.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.error.message;\n    })\n\n    // Update user\n    .addCase(updateUser.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(updateUser.fulfilled, (state, action) => {\n      state.loading = false;\n      const index = state.users.findIndex(user => user.id === action.payload.id);\n      if (index !== -1) {\n        state.users[index] = action.payload;\n      }\n      if (state.currentUser && state.currentUser.id === action.payload.id) {\n        state.currentUser = action.payload;\n      }\n    }).addCase(updateUser.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.error.message;\n    })\n\n    // Delete user\n    .addCase(deleteUser.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(deleteUser.fulfilled, (state, action) => {\n      state.loading = false;\n      state.users = state.users.filter(user => user.id !== action.payload);\n      if (state.currentUser && state.currentUser.id === action.payload) {\n        state.currentUser = null;\n      }\n    }).addCase(deleteUser.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.error.message;\n    });\n  }\n});\nexport const {\n  clearCurrentUser\n} = usersSlice.actions;\nexport default usersSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","api","fetchUsers","response","get","data","fetchUser","id","createUser","userData","post","updateUser","put","deleteUser","delete","usersSlice","name","initialState","users","currentUser","loading","error","reducers","clearCurrentUser","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","message","push","index","findIndex","user","filter","actions","reducer"],"sources":["D:/Projects/healthcare-CRM/client/src/slices/usersSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport api from '../services/api';\r\n\r\n// Async thunks for user operations\r\nexport const fetchUsers = createAsyncThunk('users/fetchUsers', async () => {\r\n  const response = await api.get('/users');\r\n  return response.data;\r\n});\r\n\r\nexport const fetchUser = createAsyncThunk('users/fetchUser', async (id) => {\r\n  const response = await api.get(`/users/${id}`);\r\n  return response.data;\r\n});\r\n\r\nexport const createUser = createAsyncThunk('users/createUser', async (userData) => {\r\n  const response = await api.post('/users', userData);\r\n  return response.data;\r\n});\r\n\r\nexport const updateUser = createAsyncThunk('users/updateUser', async ({ id, data }) => {\r\n  const response = await api.put(`/users/${id}`, data);\r\n  return response.data;\r\n});\r\n\r\nexport const deleteUser = createAsyncThunk('users/deleteUser', async (id) => {\r\n  await api.delete(`/users/${id}`);\r\n  return id;\r\n});\r\n\r\nconst usersSlice = createSlice({\r\n  name: 'users',\r\n  initialState: {\r\n    users: [],\r\n    currentUser: null,\r\n    loading: false,\r\n    error: null\r\n  },\r\n  reducers: {\r\n    clearCurrentUser: (state) => {\r\n      state.currentUser = null;\r\n    }\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      // Fetch users\r\n      .addCase(fetchUsers.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(fetchUsers.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.users = action.payload;\r\n      })\r\n      .addCase(fetchUsers.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.error.message;\r\n      })\r\n      \r\n      // Fetch single user\r\n      .addCase(fetchUser.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(fetchUser.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.currentUser = action.payload;\r\n      })\r\n      .addCase(fetchUser.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.error.message;\r\n      })\r\n      \r\n      // Create user\r\n      .addCase(createUser.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(createUser.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.users.push(action.payload);\r\n      })\r\n      .addCase(createUser.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.error.message;\r\n      })\r\n      \r\n      // Update user\r\n      .addCase(updateUser.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(updateUser.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        const index = state.users.findIndex(user => user.id === action.payload.id);\r\n        if (index !== -1) {\r\n          state.users[index] = action.payload;\r\n        }\r\n        if (state.currentUser && state.currentUser.id === action.payload.id) {\r\n          state.currentUser = action.payload;\r\n        }\r\n      })\r\n      .addCase(updateUser.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.error.message;\r\n      })\r\n      \r\n      // Delete user\r\n      .addCase(deleteUser.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(deleteUser.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.users = state.users.filter(user => user.id !== action.payload);\r\n        if (state.currentUser && state.currentUser.id === action.payload) {\r\n          state.currentUser = null;\r\n        }\r\n      })\r\n      .addCase(deleteUser.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.error.message;\r\n      });\r\n  }\r\n});\r\n\r\nexport const { clearCurrentUser } = usersSlice.actions;\r\nexport default usersSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}